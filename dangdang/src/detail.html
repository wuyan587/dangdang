<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="./css/reset.css">
    <link rel="stylesheet" href="./css/public.css">
    <link rel="stylesheet" href="./css/detail.css">
</head>

<body>
    <header>
        <div id="top">
            <div class="left">
                <a href="">送至:<span>北京</span></a>
            </div>
            <ul class="right">
                <li><a href="">购物车<span>0</span></a></li>
                <li><a href="">我的订单</a> </li>
                <li><a href="">我的云书房</a> </li>
                <li><a href="">我的当当</a></li>
                <li><a href="">0元领物</a></li>
                <li><a href="">小说投稿</a></li>
                <li><a href="">我要出书</a></li>
                <li><a href="">企业采购</a></li>
                <li><a href="">客户服务</a></li>
            </ul>
            <div class="middle">
                <p>欢迎光临当当，请
                    <a href="">登陆</a>
                    <a href="">成为会员</a>
                </p>
            </div>
        </div>
        <div id="middle">
            <div class="inner">
                <a href="" class="log">
                    <img src="./img/DDlogoNEW.gif" alt="">
                </a>
                <form class="search_warp">
                    <input type="text" class="search">
                    <span class="choose">全部分类<span></span></span>
                    <button></button>
                    <div class="bottom">
                        <ul>
                            <span> 热搜: </span>
                            <li><a href="">了不起的中国</a></li>
                            <li><a href="">巴拉巴拉</a></li>
                            <li><a href="">当当优品</a></li>
                            <li><a href="">我和我的祖国</a></li>
                            <li><a href="">春日序曲</a></li>
                            <li><a href="">秒杀1元抢</a></li>
                        </ul>
                        <a href="">高级搜索</a>
                    </div>
                </form>
                <div class="cart">
                    <a href="">购物车 <span>0</span>
                    </a>
                </div>
                <div class="mineshop">
                    <a href="">我的订单</a>
                </div>
            </div>
        </div>
    </header>
    <nav>
        <ul>
            <li class="all"><a href="http://category.dangdang.com/?ref=www-0-C" dd_name="全部商品分类"
                    target="_blank">全部商品分类</a></li>
            <li><a name="nav1" href="http://book.dangdang.com/" target="_blank">图书</a></li>
            <li><a name="nav1" href="http://e.dangdang.com/index_page.html" target="_blank">电子书</a></li>
            <li><a name="nav1" href="http://e.dangdang.com/new_original_index_page.html" target="_blank">网络文学</a></li>
            <li><a name="nav1" href="http://fashion.dangdang.com/" target="_blank">服装</a></li>
            <li><a name="nav1" href="http://fashion.dangdang.com/sports" target="_blank">运动户外</a></li>
            <li><a name="nav1" href="http://baobao.dangdang.com/" target="_blank">孕婴童</a></li>
            <li><a name="nav1" href="http://living.dangdang.com/ " target="_blank">家居</a></li>
            <li><a name="nav1" href="http://ddyoupin.dangdang.com/" target="_blank">当当优品</a></li>
            <li><a name="nav1" href="http://food.dangdang.com" target="_blank">食品</a></li>
            <li><a name="nav1" href="http://store.dangdang.com/528" target="_blank">Apple</a></li>
            <li><a name="nav1" href="http://3c.dangdang.com/ " target="_blank">电器城</a></li>
        </ul>
    </nav>
    <section>
        <!-- 顶部广告 -->
        <div class="ad">
            <a href="">
                <img src="http://img63.ddimg.cn/2019/9/28/2019092818005882352.jpg" alt="">
            </a>
        </div>
        <!-- 导航条 -->
        <div class="crumb">
            <a href="" class='first'>
                图书
            </a>
            <span>></span>
            <a href="">传记</a>
            <span>></span>
            <a href="">女性人物</a>
            <span>></span>
            <span>三毛传：你松开手，我便落入茫茫宇宙（精装珍藏版，三毛研究会推...</span>
        </div>
        <!-- 主体部分 -->
        <div class="product_warp">
            <!-- 左边的图片区 -->
            <div class="pic_info">
                <!-- 放大镜 -->
                <div class="fdj">
                    <!-- 小图小放 -->
                    <div class="small">
                        <a href="" class="small_pic">
                            <img src="http://img3m8.ddimg.cn/16/29/27904948-3_u_3.jpg" alt="" class='fdj_img'>
                        </a>
                        <div class="small_f"></div>
                    </div>
                    <!-- 大图大放 -->
                    <div class="big">
                        <img src="http://img3m8.ddimg.cn/16/29/27904948-3_u_3.jpg" alt="" class='fdj_img'>
                    </div>
                </div>
                <!-- 缩略图列表 -->
                <div class="p_img_list">
                    <div class="p_img_list_box">
                        <ul>
                            <li>
                                <a href="javascrpt:;"><img src="http://img3m8.ddimg.cn/16/29/27904948-3_u_3.jpg" alt=""></a>
                            </li>
                            <li>
                                <a href="javascrpt:;"><img src="http://img3m8.ddimg.cn/16/29/27904948-1_u_3.jpg" alt=""></a>
                            </li>
                            <li>
                                <a href="javascrpt:;"><img src="http://img3m8.ddimg.cn/16/29/27904948-2_u_3.jpg" alt=""></a>
                            </li>
                            <li>
                                <a href="javascrpt:;"><img src="http://img3m5.ddimg.cn/59/15/27928355-1_x_7.jpg" alt=""></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <!-- 右边的详细内容 -->
            <div class="product_info">
                <div class="product_info_warp">
                    <div>
                        <!-- 标题部分 -->
                        <div class="p_title">
                            <h1>
                                <img src="http://product.dangdang.com/images/icon_ddzy.png" alt="">

                                三毛传：你松开手，我便落入茫茫宇宙（精装珍藏版，三毛研究会推荐版本）
                            </h1>
                            <h2>
                                <span style="color:#323232; ">
                                    中央人民广播电台、北京人民广播电台推荐。随书赠送三毛主题手帐贴纸；硬壳精装，切口滚金边，专色印刷。讲别人没讲过没讲透的那个三毛。 </span>
                                <span style="color:#ff2832;">
                                </span>
                                <span style="color: #00b68a;"></span>
                            </h2>
                        </div>
                        <!-- 书本信息 -->
                        <div class="p_writer">
                            <span class="t1">
                                作者:
                                <a href="" target="_blank">程碧</a>
                                著
                            </span>
                            <span class="t1">
                                出版社:
                                <a href="" target="_blank">北方文艺出版社</a>
                            </span>
                            <span class="t1">出版时间:2019年09月&nbsp;</span>
                            <div class="p_pinglun">
                                <!-- 排名 -->
                                <span class="t1">
                                    在
                                    <a href="" target="_blank">当当传记新书榜</a>
                                    排名
                                    <span>1</span>
                                    位
                                </span>
                                <!-- 星级 -->
                                <span class="t1">
                                    <span class="star_box">
                                        <span class="star" style="width:97.6%"></span>
                                    </span>
                                    <a href="">13</a>
                                    条评论
                                </span>
                            </div>
                        </div>
                        <!-- 价格 -->
                        <div class="p_price">
                            <div class="price_pc">
                                <div style="width:206px;height: 64px;">
                                    <div class="price_warp">
                                        <p class="t">
                                            <span>当当价</span>
                                            <a href="" style="margin-left: 10px;color: #1a66b3;">降价通知</a>
                                        </p>
                                        <p class="dd_price">
                                            <span style="font-size: 14px;">￥</span>
                                            69.0
                                        </p>
                                    </div>
                                </div>
                                <div style="width:206px;height: 35px">
                                    <div class="price_m price_m_t">
                                        定价
                                    </div>
                                    <div class="price_m">
                                        <span class="yen">
                                            ¥
                                        </span>
                                        69.00
                                    </div>
                                </div>
                            </div>
                            <div class="pc_erweima">
                                <div class="pc_erweima_bg">
                                    <div class="erweima_img">
                                        <img src="http://img7x5.ddimg.cn/imgother121/59/15/27928355_1.jpg" alt="">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- 促销 -->
                        <div class="p_promotion">
                            <div class="left letter02">促销</div>
                            <div class="right">
                                <div class="right_list">
                                    <div class="list_mod">
                                        <p>电子书加价购</p>
                                        <div class="rule rule06">
                                            <ul class="list_e">
                                                <li>
                                                    <a href="javascript:;" class="checkboxa">

                                                    </a>
                                                    <a href="" class="jia_gou_e" title="" target="_blank">
                                                        +14.9元换购《三体全集(全3册)》作者1：刘慈欣
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="list_mod">
                                        <p>满额减</p>
                                        <div class="rule rule04">
                                            <p>
                                                <span class="">每满¥150减¥50</span> <a href="" target="_blank" style="
                                                    color: #969696; ">详情&gt;&gt;</a> </p>
                                        </div>
                                    </div>
                                    <div class="list_mod">
                                        <p>加价购</p>
                                        <div class="rule rule04">
                                            <p>
                                                <span class="">购买本商品可加价换购以下任意一件商品</span>
                                                <a href="" target="_blank" style="color: #969696; ">
                                                    选购商品&gt;&gt;
                                                </a>
                                            </p>
                                        </div>
                                    </div>
                                    <div class="clearfix" id="promo-list-tips">
                                        <div class="subtract_remind">
                                            <i class="">i
                                            </i>
                                            促销不可多选，请在购物车选择该单品能享受的促销
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- 配送地址 -->
                        <div class="p_address">
                            <div class="left" style="letter-spacing: 6px;">配送至</div>
                            <div class="right">
                                <div class="select">
                                    <span class="text">北京市东城区</span>
                                    <p>有货</p>
                                    <div class="yunfei">
                                        <a href="" style="color:#646464;">满49元免运费</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- 服务 -->
                        <div class="p_serve">
                            <div class="left" style="letter-spacing: 24px;">服务</div>
                            <div class="right">
                                <div>
                                    <span class="time">
                                        由“
                                        <b>当当</b>
                                        ”发货，并提供售后服务。
                                        <font id="arrive-time">
                                            09:15前完成下单，预计
                                            <b>今天(10月7日)</b>
                                            可送达
                                        </font>
                                    </span>
                                </div>
                            </div>
                        </div>
                        <!-- 关联 -->
                        <div class="p_link">
                            <div class="left">关联商品</div>
                            <div class="right">
                                <div>
                                    <ul class="list_e">
                                        <li>
                                            <a href="javascrpt:;" class="chose">
                                                <img src="http://img3m5.ddimg.cn/59/15/27928355-1_x_7.jpg" alt="">
                                                三毛传</a></li>
                                        <li>
                                            <a href="javascrpt:;">
                                                <img src="http://img3m5.ddimg.cn/59/15/27928355-1_x_7.jpg" alt="">
                                                四毛传</a></li>
                                        <li>
                                            <a href="javascrpt:;">
                                                <img src="http://img3m5.ddimg.cn/59/15/27928355-1_x_7.jpg" alt="">
                                                五毛传</a></li>
                                        <li>
                                            <a href="javascrpt:;">
                                                <img src="http://img3m5.ddimg.cn/59/15/27928355-1_x_7.jpg" alt="">
                                                六毛传</a></li>
                                        <li>
                                            <a href="javascrpt:;">
                                                <img src="http://img3m5.ddimg.cn/59/15/27928355-1_x_7.jpg" alt="">
                                                七毛传</a></li>
                                        <li>
                                            <a href="javascrpt:;">
                                                <img src="http://img3m5.ddimg.cn/59/15/27928355-1_x_7.jpg" alt="">
                                                八毛传</a></li>
                                        <li>
                                            <a href="javascrpt:;">
                                                <img src="http://img3m5.ddimg.cn/59/15/27928355-1_x_7.jpg" alt="">
                                                九毛传</a></li>
                                        <li>
                                            <a href="javascrpt:;">
                                                <img src="http://img3m5.ddimg.cn/59/15/27928355-1_x_7.jpg" alt="">
                                                十毛传</a></li>
                                        <li>
                                            <a href="javascrpt:;">
                                                <img src="http://img3m5.ddimg.cn/59/15/27928355-1_x_7.jpg" alt="">
                                                十一毛传</a></li>

                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!-- 购买 -->
                        <div class="p_buybox">
                            <div class="num">
                                <input type="text">
                                <a href="" class="add"></a>
                                <a href="" class="del"></a>
                            </div>
                            <div class="buybtn">
                                <a href="" class="buycart">
                                    <i></i>
                                    加入购物车</a>
                                <a href="" class="buynow">立即购买</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script>
        class fdj {
            constructor(obj) {
                this.qy = $(obj.qy);
                this.xf = $(obj.xf);
                this.df = $(obj.df);
                this.xt = $(obj.xt);
                this.dt = $(obj.dt);
                this.tlist=$(obj.tlist);
                this.link=$(obj.link);
                this.bl = this.df.height() / this.xf.height();
                this.sbx = 0;
                this.sby = 0;
                this.pyx = 0;
                this.pyy = 0;
                this.gl=0;
                
            }
            init() {
                this.gl=$(window).scrollTop();
                let _this = this;
                this.tpqh();
                $(window).on('scroll',function(){
                    _this.gl=$(window).scrollTop();
                })
                this.qy.hover(function(){
                    _this.df.show();
                    _this.xf.show();
                },function(){
                    _this.df.hide();
                    _this.xf.hide();
                })
                this.qy.on('mousemove', function (ev) {
                    _this.sbx = ev.clientX;
                    _this.sby = ev.clientY;
                    _this.yidong(_this.xf);
                    _this.yidong(_this.dt);
                   
                })
                this.choose(this.link);
             
            }
            yidong(obj) {
                if (obj == this.xf) {
                    this.pyx = this.sbx - this.xt.offset().left - obj.width() / 2;
                    this.pyy = this.sby - this.xt.offset().top - obj.height() / 2+this.gl;
                    if (this.pyx <= 0) {
                        this.pyx = 0;
                    } else if (this.pyx >= this.xt.offset().left) {
                        this.pyx = this.xt.offset().left;
                    }
                    if (this.pyy <= 0) {
                        this.pyy = 0;
                    } else if (this.pyy >= this.xt.height() - this.xf.height()) {
                        this.pyy = this.xt.height() - this.xf.height();
                    }
                    obj.css(
                        {
                            "left": this.pyx,
                            "top": this.pyy
                        }
                    )
                } else if (obj == this.dt) {
                    obj.css(
                        {
                            "left": -this.pyx * this.bl,
                            "top": -this.pyy * this.bl
                            
                        }
                    )
                }
            }
            tpqh(){
                let _this=this;
                this.tlist.find('li').on('click',function(){
                    _this.dt.attr('src',$(this).find('img').attr('src'));
                    _this.xt.find('img').attr('src',$(this).find('img').attr('src'));
                })
            }
            choose(a){
                a.on('click','a',function(){
                    a.find('a').each(function(){
                        $(this).removeClass("chose");
                    })
                    $(this).addClass("chose");
                })
            }
        }
        let a = new fdj({
            qy:'.small',
            xf:'.small_f',
            df:'.big',
            xt:'.small_pic',
            dt:'.big img',
            tlist:'.p_img_list_box',
            link:'.list_e'
        });
        a.init();
    </script>
</body>

</html>